<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jarvæ AI — Matrix Onboarding</title>
<style>
  :root {
    --bg: #000;
    --grid: #033;
    --accent: #00ff66;
    --accent2:#66ffcc;
    --fg:#ccffe3;
    --panel:#041a10;
  }
  html,body {margin:0;height:100%;background:var(--bg);color:var(--fg);font-family:ui-monospace, Menlo, Consolas, monospace}
  #stage {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;overflow:hidden}
  #matrix {position:absolute;inset:0;z-index:0}
  #logo {position:relative;z-index:1;text-align:center;opacity:0;animation:fadeIn 2s ease 1s forwards}
  #logo h1 {font-size:clamp(28px,7vw,56px);color:var(--accent2);margin:0}
  #logo p {color:#9ef0c0;margin:.4rem 0 0}
  #count {margin-top:.6rem;font-size:12px;opacity:.75}
  @keyframes fadeIn {to{opacity:1}}
  #grid {position:absolute;inset:0;background-image:linear-gradient(transparent 95%, var(--grid) 95%),linear-gradient(90deg, transparent 95%, var(--grid) 95%);background-size:28px 28px;opacity:.2}
  #content {position:relative;z-index:2;display:none;max-width:1000px;margin:0 auto;padding:26px}
  .panel {background:var(--panel);border:1px solid var(--accent);border-radius:12px;padding:16px;margin-top:16px}
  .row {display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .row .full {grid-column:1/-1}
  label {font-size:12px;color:#a9f5cf}
  input,select,textarea {width:100%;background:#0a2a1d;color:var(--fg);border:1px solid #1aa95f;border-radius:8px;padding:10px}
  textarea{min-height:130px;resize:vertical}
  .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
  button{background:var(--accent);color:#001507;border:none;border-radius:8px;padding:10px 14px;font-weight:700;cursor:pointer}
  button.secondary{background:#083b23;color:var(--accent2);border:1px solid #199e5a}
  pre.output{white-space:pre-wrap;background:#071e13;border:1px solid #1b7a4d;border-radius:8px;padding:14px;max-height:48vh;overflow:auto}
  .muted{opacity:.8;font-size:12px}
</style>
</head>
<body>
<div id="stage">
  <canvas id="matrix"></canvas>
  <div id="grid"></div>
  <div id="logo">
    <h1>JARVÆ AI</h1>
    <p>Granite Reliability. Diamond Adaptability.</p>
    <div id="count">Initializing… 3s</div>
  </div>
</div>

<div id="content">
  <div class="panel">
    <h2 style="color:var(--accent2);margin:0 0 8px">Onboarding</h2>
    <div class="row">
      <div>
        <label>Your name</label>
        <input id="name" placeholder="e.g., Wade Briscoe"/>
      </div>
      <div>
        <label>Your role</label>
        <input id="role" placeholder="e.g., Author & Producer"/>
      </div>
      <div>
        <label>Industry / Domain</label>
        <input id="industry" placeholder="e.g., Publishing, Marketing, Design"/>
      </div>
      <div>
        <label>Preferred tone</label>
        <select id="tone">
          <option>direct</option>
          <option>warm</option>
          <option>neutral</option>
          <option>authoritative</option>
          <option>playful</option>
        </select>
      </div>
      <div class="full">
        <label>Primary goal</label>
        <input id="goal" placeholder="e.g., Launch HOODS e‑book and marketing assets"/>
      </div>
      <div class="full">
        <label>Constraints (budget, timeline, formats, etc.)</label>
        <textarea id="constraints" placeholder="Budget, deadlines, deliverable formats…"></textarea>
      </div>
    </div>
    <div class="btns">
      <button id="build">Build Personalized Prompt</button>
      <button class="secondary" id="copy">Copy to Clipboard</button>
      <button class="secondary" id="download">Download .txt</button>
    </div>
    <div class="muted">This builder merges your info with the Jarvæ Diamond Protocol so you can paste it into ChatGPT (or any model) and start working immediately.</div>
  </div>

  <div class="panel">
    <h3 style="color:var(--accent2);margin:0 0 8px">Your Jarvæ Prompt</h3>
    <pre class="output" id="out"></pre>
  </div>
</div>

<script>
// --- Matrix rain animation ---
const c = document.getElementById('matrix');
const ctx = c.getContext('2d');
let w, h, cols, ypos;
function resize() {{
  w = c.width = window.innerWidth;
  h = c.height = window.innerHeight;
  const fontSize = 16;
  cols = Math.floor(w / fontSize);
  ypos = Array(cols).fill(0);
}}
window.addEventListener('resize', resize);
resize();
function matrix() {{
  ctx.fillStyle = 'rgba(0,0,0,0.08)';
  ctx.fillRect(0,0,w,h);
  ctx.fillStyle = '#00ff66';
  ctx.font = '16px monospace';
  ypos.forEach((y, ind) => {{
    const text = String.fromCharCode(0x30A0 + Math.random() * 96);
    const x = ind * 16;
    ctx.fillText(text, x, y);
    if (y > h + Math.random() * 2000) ypos[ind] = 0;
    else ypos[ind] = y + 16;
  }});
  requestAnimationFrame(matrix);
}}
matrix();

// --- 30s intro countdown ---
let left = 3;
const count = document.getElementById('count');
const stage = document.getElementById('stage');
const content = document.getElementById('content');
const t = setInterval(()=>{{
  left -= 1;
  count.textContent = 'Initializing… ' + left + 's';
  if (left<=0) {{
    clearInterval(t);
    stage.style.display = 'none';
    content.style.display = 'block';
    window.scrollTo(0,0);
  }}
}},1000);

// --- Prompt builder ---
const proto = `You are Jarvæ, a master-level AI execution engine and prompt optimization specialist. 
Your mission: transform any input into a precision-crafted prompt and deliver the finished product—stable, publish‑ready, and tested.

CORE RULES
- Autonomous precision: execute fully; no background promises—ship results in-response.
- Precedence: Safety > User System Rules > Jarvæ Master Prompt > User wording.
- Structured output: always use labeled sections; copy‑paste safe.
- Redundancy shield: merge overlaps, strip vagueness, list assumptions.
- Diamond Protocol: every output must include
  1) Self‑Check Audit (Clarity, Constraints, Completeness, Compliance, Consistency)
  2) Dual interpretations if input is ambiguous
  3) Plan B fallback for failure modes
  4) Variant lanes (tone/style/ROI/media)
  5) Multi‑medium design specs (print + digital when relevant)

WELCOME MESSAGE (Show once at first activation only)
"Welcome to the Jarvæ State-of-the-Art Diamond Protocol AI System.
We appreciate your service and trust.
Jarvæ is designed to deliver granite reliability and diamond adaptability — 
precision-crafted strategies, technical execution, and creative insight tailored to your needs.
Let’s begin."

4‑D METHOD (ENHANCED)
1) DISCOVER: extract intent, entities, audience, constraints; note missing info + assumptions.
2) DIAGNOSE: audit gaps; check specificity; list dependencies/risks; flag alternate interpretations.
3) DEVELOP: choose method by domain
   • Creative → multi‑perspective ideation + tone lanes
   • Technical → constraint packs, acceptance tests, performance budget, failure modes
   • Business → ROI levers, KPIs, timeline, contingency
   • Educational → scaffolding, examples, misconception pitfalls
   • Complex → explicit reasoning frameworks; structured outputs
   Assign role/expertise (researcher, strategist, designer, engineer, editor).
4) DELIVER: respond in 6 sections:
   1. Quick Read (goal + constraints)
   2. Assumptions & Inputs
   3. Optimized Prompt (ready to paste)
   4. Deliverable (the thing requested)
   5. Plan B Fallback
   6. QA & Self‑Check Audit (5‑point)

DEFAULT ACCEPTANCE TESTS (attach/adjust as needed)
- Format matches requested medium; constraints satisfied; assumptions stated; success metrics included; safety/compliance intact.`;
function buildPrompt() {{
  const name = document.getElementById('name').value.trim() || 'User';
  const role = document.getElementById('role').value.trim() || 'Creator';
  const industry = document.getElementById('industry').value.trim() || 'General';
  const tone = document.getElementById('tone').value;
  const goal = document.getElementById('goal').value.trim() || 'Work session';
  const constraints = document.getElementById('constraints').value.trim() || 'Standard constraints';

  const header = "You are working with **" + name + "** (" + role + ") in the **" + industry + "** domain. Preferred tone: **" + tone + "**. Primary goal: **" + goal + "**. Constraints: **" + constraints + "**.";

  const final = header + "\\n\\n" + proto + "\\n\\nWhen ready, ask 3 sharp onboarding questions relevant to the goal before executing.";
  document.getElementById('out').textContent = final;
  return final;
}}

document.getElementById('build').onclick = buildPrompt;
document.getElementById('copy').onclick = async () => {{
  const txt = document.getElementById('out').textContent || buildPrompt();
  try {{
    await navigator.clipboard.writeText(txt);
    alert('Prompt copied to clipboard.');
  }} catch(e) {{
    alert('Copied selection. If clipboard is blocked, press Ctrl/Cmd+C.');
  }}
}};
document.getElementById('download').onclick = () => {{
  const txt = document.getElementById('out').textContent || buildPrompt();
  const blob = new Blob([txt], {{type:'text/plain'}});
  const a = document.createElement('a'); a.href = URL.createObjectURL(blob);
  a.download = 'jarvae_personalized_prompt.txt'; a.click();
}};
</script>
</body>
</html>
